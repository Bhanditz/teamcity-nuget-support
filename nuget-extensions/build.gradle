plugins {
    id 'com.ullink.nuget' version '2.5'
    id 'com.ullink.msbuild' version '2.15'
    id 'com.ullink.nunit' version '1.8'
}
nugetRestore {
    version = '3.4.4'
    solutionFile = file('nuget-extensions.sln')
}

msbuild.dependsOn nugetRestore
msbuild {
    solutionFile = file('nuget-extensions.sln')
    configuration = 'Release'

    // MsBuild project name (/p:Project=...)
    projectName = project.name

    // targets to execute (/t:Clean;Rebuild, no default)
    targets = ['Clean', 'Rebuild']

    verbosity = 'detailed'
}

nunit.dependsOn msbuild
nunit {
    nunitVersion = '3.0.1'
    useX86 = true
}
